{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\react\\\\health-id\\\\medical_id\\\\src\\\\component\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport reportContex from '../context/report/reportcontext';\nimport formCss from './Form.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Form() {\n  _s();\n\n  const context = useContext(reportContex);\n  const {\n    addReport\n  } = context;\n  const [report, setReport] = useState({\n    disease_name: \"\",\n    doctor_name: \"\",\n    medicines_name: \"\",\n    report_pic: \"\"\n  });\n  const [image, setImage] = useState(null);\n  const [upladingImg, setUploadingImg] = useState(false);\n  const [imagePreview, setImagePreview] = useState(null);\n\n  function validateImg(e) {\n    const file = e.target.files[0];\n\n    if (file.size >= 1048576) {\n      return alert(\"Max file size is 1mb\");\n    } else {\n      setImage(file);\n      setImagePreview(URL.createObjectURL(file));\n    }\n  }\n\n  async function uploadImage() {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"iqnuobjo\");\n\n    try {\n      setUploadingImg(true);\n      let res = await fetch(\"https://api.cloudinary.com/v1_1/dquivuztl/image/upload\", {\n        method: \"post\",\n        body: data\n      });\n      const urlData = await res.json();\n      setUploadingImg(false);\n      return urlData.url;\n    } catch (error) {\n      setUploadingImg(false);\n      console.log(error);\n    }\n  }\n\n  const handleClick = async e => {\n    e.preventDefault(); // if (!image) return alert(\"Please upload your profile picture\");\n\n    const url = await uploadImage(image);\n    console.log(url);\n    addReport(report.disease_name, report.doctor_name, report.medicines_name, report.report_pic);\n    setReport({\n      disease_name: \"\",\n      doctor_name: \"\",\n      medicines_name: \"\",\n      report_pic: url\n    });\n    alert(\"Report Added\");\n  };\n\n  const onChange = e => {\n    setReport({ ...report,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: formCss.form,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Add Report...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: formCss.box,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"diseasename\",\n          children: \"Disease name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"disease_name\",\n          name: \"disease_name\",\n          value: report.disease_name,\n          onChange: onChange,\n          placeholder: \"Disease name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: formCss.box,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"doctorname\",\n          children: \"Doctor Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"doctor_name\",\n          name: \"doctor_name\",\n          value: report.doctor_name,\n          onChange: onChange,\n          placeholder: \"Doctor name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: formCss.box,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"medicine\",\n          children: \"Medicines Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"medicines_name\",\n          name: \"medicines_name\",\n          rows: \"4\",\n          value: report.medicines_name,\n          onChange: onChange,\n          placeholder: \"Medicines Name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: formCss.box,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"testfile\",\n          children: \"Upload test report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/png, image/jpeg\",\n          onChange: validateImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: formCss.notfile,\n          children: \"(if test is not done leave it)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: formCss.boxbtn,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: formCss.btn,\n          onClick: handleClick,\n          type: \"submit\",\n          children: \"Submit form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Form, \"oijiyIsHY5DINFnZYsCjZJx/Suo=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useContext","useState","reportContex","formCss","Form","context","addReport","report","setReport","disease_name","doctor_name","medicines_name","report_pic","image","setImage","upladingImg","setUploadingImg","imagePreview","setImagePreview","validateImg","e","file","target","files","size","alert","URL","createObjectURL","uploadImage","data","FormData","append","res","fetch","method","body","urlData","json","url","error","console","log","handleClick","preventDefault","onChange","name","value","form","box","notfile","boxbtn","btn"],"sources":["C:/Users/ASUS/OneDrive/Desktop/react/health-id/medical_id/src/component/Form.js"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport reportContex from '../context/report/reportcontext'\r\nimport formCss from './Form.module.css'\r\nfunction Form() {\r\n  const context = useContext(reportContex)\r\n  const {addReport}=context\r\n  const [report, setReport] = useState({disease_name:\"\",doctor_name:\"\",medicines_name:\"\",report_pic:\"\"})\r\n\r\n  const [image, setImage] = useState(null);\r\n    const [upladingImg, setUploadingImg] = useState(false);\r\n    const [imagePreview, setImagePreview] = useState(null);\r\n\r\n\r\n    function validateImg(e) {\r\n      const file = e.target.files[0];\r\n      if (file.size >= 1048576) {\r\n          return alert(\"Max file size is 1mb\");\r\n      } else {\r\n          setImage(file);\r\n          setImagePreview(URL.createObjectURL(file));\r\n      }\r\n  }\r\n\r\n\r\n  async function uploadImage() {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"iqnuobjo\");\r\n    try {\r\n        setUploadingImg(true);\r\n        let res = await fetch(\"https://api.cloudinary.com/v1_1/dquivuztl/image/upload\", {\r\n            method: \"post\",\r\n            body: data,\r\n        });\r\n        const urlData = await res.json();\r\n        setUploadingImg(false);\r\n        return urlData.url;\r\n    } catch (error) {\r\n        setUploadingImg(false);\r\n        console.log(error);\r\n    }\r\n  }\r\n\r\n\r\n  const handleClick=async(e)=>{\r\n    e.preventDefault()\r\n\r\n    // if (!image) return alert(\"Please upload your profile picture\");\r\n    const url = await uploadImage(image);\r\n    console.log(url)\r\n\r\n    addReport(report.disease_name,report.doctor_name,report.medicines_name,report.report_pic)\r\n    setReport({disease_name:\"\",doctor_name:\"\",medicines_name:\"\",report_pic:url})\r\n    alert(\"Report Added\")\r\n  }\r\n\r\n  const onChange =(e)=>{\r\n    setReport({...report,[e.target.name]:e.target.value})\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form className={formCss.form}>\r\n        <h1>Add Report...</h1>\r\n        <div className={formCss.box}>\r\n          <label htmlFor=\"diseasename\" >Disease name</label>\r\n          <input type=\"text\" id=\"disease_name\" name='disease_name' value={report.disease_name} onChange={onChange} placeholder=\"Disease name\" required/>\r\n        </div>\r\n        <div className={formCss.box}>\r\n          <label htmlFor=\"doctorname\" >Doctor Name</label>\r\n          <input type=\"text\" id=\"doctor_name\" name='doctor_name' value={report.doctor_name} onChange={onChange} placeholder=\"Doctor name\" required/>\r\n        </div>\r\n        <div className={formCss.box}>\r\n          <label htmlFor=\"medicine\" >Medicines Name</label>\r\n          <textarea id=\"medicines_name\" name='medicines_name' rows=\"4\" value={report.medicines_name} onChange={onChange} placeholder='Medicines Name' required></textarea>\r\n        </div>\r\n        <div className={formCss.box}>\r\n          <label htmlFor=\"testfile\"  >Upload test report</label>\r\n          <input type=\"file\" accept=\"image/png, image/jpeg\" onChange={validateImg} />\r\n          <div className={formCss.notfile}>(if test is not done leave it)</div>\r\n        </div>\r\n        {/* <div className={formCss.box}>\r\n          <label htmlFor=\"testfile\"  >Upload test report</label>\r\n          <input type=\"file\" class=\"form-control\" aria-label=\"file example\" value={report.report_pic} onChange={onChange} />\r\n          <div className={formCss.notfile}>(if test is not done leave it)</div>\r\n        </div> */}\r\n        <div className={formCss.boxbtn}>\r\n        <button className={formCss.btn} onClick={handleClick} type=\"submit\">Submit form</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Form"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,OAAP,MAAoB,mBAApB;;;;AACA,SAASC,IAAT,GAAgB;EAAA;;EACd,MAAMC,OAAO,GAAGL,UAAU,CAACE,YAAD,CAA1B;EACA,MAAM;IAACI;EAAD,IAAYD,OAAlB;EACA,MAAM,CAACE,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC;IAACQ,YAAY,EAAC,EAAd;IAAiBC,WAAW,EAAC,EAA7B;IAAgCC,cAAc,EAAC,EAA/C;IAAkDC,UAAU,EAAC;EAA7D,CAAD,CAApC;EAEA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,IAAD,CAAlC;EACE,MAAM,CAACc,WAAD,EAAcC,eAAd,IAAiCf,QAAQ,CAAC,KAAD,CAA/C;EACA,MAAM,CAACgB,YAAD,EAAeC,eAAf,IAAkCjB,QAAQ,CAAC,IAAD,CAAhD;;EAGA,SAASkB,WAAT,CAAqBC,CAArB,EAAwB;IACtB,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;;IACA,IAAIF,IAAI,CAACG,IAAL,IAAa,OAAjB,EAA0B;MACtB,OAAOC,KAAK,CAAC,sBAAD,CAAZ;IACH,CAFD,MAEO;MACHX,QAAQ,CAACO,IAAD,CAAR;MACAH,eAAe,CAACQ,GAAG,CAACC,eAAJ,CAAoBN,IAApB,CAAD,CAAf;IACH;EACJ;;EAGD,eAAeO,WAAf,GAA6B;IAC3B,MAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;IACAD,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBlB,KAApB;IACAgB,IAAI,CAACE,MAAL,CAAY,eAAZ,EAA6B,UAA7B;;IACA,IAAI;MACAf,eAAe,CAAC,IAAD,CAAf;MACA,IAAIgB,GAAG,GAAG,MAAMC,KAAK,CAAC,wDAAD,EAA2D;QAC5EC,MAAM,EAAE,MADoE;QAE5EC,IAAI,EAAEN;MAFsE,CAA3D,CAArB;MAIA,MAAMO,OAAO,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAtB;MACArB,eAAe,CAAC,KAAD,CAAf;MACA,OAAOoB,OAAO,CAACE,GAAf;IACH,CATD,CASE,OAAOC,KAAP,EAAc;MACZvB,eAAe,CAAC,KAAD,CAAf;MACAwB,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACH;EACF;;EAGD,MAAMG,WAAW,GAAC,MAAMtB,CAAN,IAAU;IAC1BA,CAAC,CAACuB,cAAF,GAD0B,CAG1B;;IACA,MAAML,GAAG,GAAG,MAAMV,WAAW,CAACf,KAAD,CAA7B;IACA2B,OAAO,CAACC,GAAR,CAAYH,GAAZ;IAEAhC,SAAS,CAACC,MAAM,CAACE,YAAR,EAAqBF,MAAM,CAACG,WAA5B,EAAwCH,MAAM,CAACI,cAA/C,EAA8DJ,MAAM,CAACK,UAArE,CAAT;IACAJ,SAAS,CAAC;MAACC,YAAY,EAAC,EAAd;MAAiBC,WAAW,EAAC,EAA7B;MAAgCC,cAAc,EAAC,EAA/C;MAAkDC,UAAU,EAAC0B;IAA7D,CAAD,CAAT;IACAb,KAAK,CAAC,cAAD,CAAL;EACD,CAVD;;EAYA,MAAMmB,QAAQ,GAAGxB,CAAD,IAAK;IACnBZ,SAAS,CAAC,EAAC,GAAGD,MAAJ;MAAW,CAACa,CAAC,CAACE,MAAF,CAASuB,IAAV,GAAgBzB,CAAC,CAACE,MAAF,CAASwB;IAApC,CAAD,CAAT;EACD,CAFD;;EAIA,oBACE;IAAA,uBACE;MAAM,SAAS,EAAE3C,OAAO,CAAC4C,IAAzB;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAK,SAAS,EAAE5C,OAAO,CAAC6C,GAAxB;QAAA,wBACE;UAAO,OAAO,EAAC,aAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAO,IAAI,EAAC,MAAZ;UAAmB,EAAE,EAAC,cAAtB;UAAqC,IAAI,EAAC,cAA1C;UAAyD,KAAK,EAAEzC,MAAM,CAACE,YAAvE;UAAqF,QAAQ,EAAEmC,QAA/F;UAAyG,WAAW,EAAC,cAArH;UAAoI,QAAQ;QAA5I;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAME;QAAK,SAAS,EAAEzC,OAAO,CAAC6C,GAAxB;QAAA,wBACE;UAAO,OAAO,EAAC,YAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAO,IAAI,EAAC,MAAZ;UAAmB,EAAE,EAAC,aAAtB;UAAoC,IAAI,EAAC,aAAzC;UAAuD,KAAK,EAAEzC,MAAM,CAACG,WAArE;UAAkF,QAAQ,EAAEkC,QAA5F;UAAsG,WAAW,EAAC,aAAlH;UAAgI,QAAQ;QAAxI;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QANF,eAUE;QAAK,SAAS,EAAEzC,OAAO,CAAC6C,GAAxB;QAAA,wBACE;UAAO,OAAO,EAAC,UAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAU,EAAE,EAAC,gBAAb;UAA8B,IAAI,EAAC,gBAAnC;UAAoD,IAAI,EAAC,GAAzD;UAA6D,KAAK,EAAEzC,MAAM,CAACI,cAA3E;UAA2F,QAAQ,EAAEiC,QAArG;UAA+G,WAAW,EAAC,gBAA3H;UAA4I,QAAQ;QAApJ;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAVF,eAcE;QAAK,SAAS,EAAEzC,OAAO,CAAC6C,GAAxB;QAAA,wBACE;UAAO,OAAO,EAAC,UAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAO,IAAI,EAAC,MAAZ;UAAmB,MAAM,EAAC,uBAA1B;UAAkD,QAAQ,EAAE7B;QAA5D;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAK,SAAS,EAAEhB,OAAO,CAAC8C,OAAxB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAHF;MAAA;QAAA;QAAA;QAAA;MAAA,QAdF,eAwBE;QAAK,SAAS,EAAE9C,OAAO,CAAC+C,MAAxB;QAAA,uBACA;UAAQ,SAAS,EAAE/C,OAAO,CAACgD,GAA3B;UAAgC,OAAO,EAAET,WAAzC;UAAsD,IAAI,EAAC,QAA3D;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADA;QAAA;QAAA;QAAA;MAAA,QAxBF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF,iBADF;AAgCD;;GAzFQtC,I;;KAAAA,I;AA2FT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}